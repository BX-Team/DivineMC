From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: NONPLAYT <76615486+NONPLAYT@users.noreply.github.com>
Date: Mon, 7 Jul 2025 04:05:08 +0300
Subject: [PATCH] Force Minecraft command


diff --git a/src/main/java/org/bukkit/craftbukkit/command/CraftCommandMap.java b/src/main/java/org/bukkit/craftbukkit/command/CraftCommandMap.java
index 90ed57a7fbcd0625b64084347460e9864216f610..138f37bf12f39152af97b14515007e9ca485967f 100644
--- a/src/main/java/org/bukkit/craftbukkit/command/CraftCommandMap.java
+++ b/src/main/java/org/bukkit/craftbukkit/command/CraftCommandMap.java
@@ -14,4 +14,18 @@ public class CraftCommandMap extends SimpleCommandMap {
     public Map<String, Command> getKnownCommands() {
         return this.knownCommands;
     }
+
+    // DivineMC start - Force Minecraft command
+    @Override
+    public Command getCommand(String name) {
+        Command target = super.getCommand(name);
+        if (org.bxteam.divinemc.config.DivineConfig.FixesCategory.forceMinecraftCommand && !(target instanceof org.bukkit.craftbukkit.command.VanillaCommandWrapper)) {
+            Command minecraftTarget = super.getCommand("minecraft:" + name);
+            if (minecraftTarget != null) {
+                return minecraftTarget;
+            }
+        }
+        return target;
+    }
+    // DivineMC end - Force Minecraft command
 }
